# 太空黄金收藏项目 (Space Gold Collector)

## 项目简介

这是一个基于 OpenGL 3.3 的 3D 太空探索游戏，玩家需要驾驶宇宙飞船在一个充满小行星的太空环境中收集黄金，同时避开巡逻的本地太空飞行器。项目完全实现了课程要求的所有基本功能和额外功能。

## 功能实现

### 基本要求 - 已完成

**1. 对象渲染** - 已完成
- 渲染1个行星、1个航天器和10个本地太空飞行器
- 所有对象使用相应的纹理贴图
- 支持 OBJ 模型加载

**2. 自转动画** - 已完成
- 行星持续自转
- 所有本地太空飞行器持续自转

**3. 天空盒** - 已完成
- 实现立方体贴图天空盒作为背景
- 6面独立纹理加载

**4. 基本光照** - 已完成
- 实现 Phong 光照模型（环境光、漫反射、镜面反射）
- 支持键盘实时调整光照参数

**5. 小行星环** - 已完成
- 生成1600块随机分布的漂浮岩石
- 包含50个黄金小行星，位置随机分布

**6. 岩石旋转** - 已完成
- 所有小行星具有独立的随机旋转动画
- 不同的旋转速度和轴向

**7. 正确视点** - 已完成
- 摄像机固定在航天器后方15单位距离
- 视角始终与航天器朝向一致

**8. 鼠标控制** - 已完成
- 使用鼠标控制航天器旋转（yaw/pitch）
- 实现非线性灵敏度控制，支持精确操控

**9. 键盘控制** - 已完成
- WASD 控制航天器移动
- 数字键1-4调整双光源强度

**10. 黄金收集** - 已完成
- 球形碰撞检测收集黄金
- 收集后黄金立即消失，显示收集进度

**11. 警报系统** - 已完成
- 与本地飞行器碰撞检测
- 触发警报时飞行器纹理变红色

**12. 完成提示** - 已完成
- 收集完所有黄金后飞船自动变金色
- 控制台显示完成信息

### 额外要求 - 已完成

**1. 双光源** - 已完成
- 实现两个独立点光源
- 基于 Phong 光照模型的光照叠加

**2. 法线贴图** - 已完成
- 为行星实现法线贴图技术
- 显著增强表面细节和光照效果

**3. 更多宝藏** - 已完成
- 实现作弊码系统（Konami Code: ↑↑↓↓←←→→BABA）
- 激活后自动收集所有黄金

### 额外创新功能

**1. 碰撞惩罚系统**
- 与本地飞行器碰撞后冻结1秒
- 自动重置游戏状态

**2. 飞船侧倾效果**
- 左右移动时飞船自动侧倾
- 增强飞行真实感

**3. 多层3D轨道系统**
- 10个本地飞行器分布在不同轨道
- 支持轨道倾斜和动态变化

**4. 游戏重置功能**
- R键随时重置游戏
- 恢复所有初始状态

## 操作说明

### 基本控制
- **鼠标**: 控制航天器朝向（俯仰/偏航）
- **W**: 向前移动
- **S**: 向后移动  
- **A**: 向左移动（带侧倾效果）
- **D**: 向右移动（带侧倾效果）
- **R**: 重置游戏
- **ESC**: 退出游戏

### 高级控制
- **1/2**: 调整光源1强度
- **3/4**: 调整光源2强度
- **作弊码**: ↑↑↓↓←←→→BABA（自动收集所有黄金）

### 项目结构
```
CourseProject/
├── main.cpp                      # 主程序 (1500+ 行)
├── Shader.cpp/.h                 # 着色器管理类
├── Texture.cpp/.h                # 纹理管理类
├── VertexShaderCode.glsl         # 主顶点着色器
├── FragmentShaderCode.glsl       # 主片段着色器（双光源+法线贴图）
├── SkyboxVertexShader.glsl       # 天空盒顶点着色器
├── SkyboxFragmentShader.glsl     # 天空盒片段着色器
├── object/                       # 3D模型文件
│   ├── planet.obj               # 行星模型
│   ├── spacecraft.obj           # 飞船模型
│   ├── rock.obj                 # 小行星模型
│   └── craft.obj                # 本地飞行器模型
├── texture/                      # 纹理资源
│   ├── earthTexture.bmp         # 地球表面纹理
│   ├── earthNormal.bmp          # 地球法线贴图
│   ├── spacecraftTexture.bmp    # 飞船纹理
│   ├── gold.bmp                 # 黄金纹理
│   ├── rockTexture.bmp          # 岩石纹理
│   └── red.bmp                  # 警报红色纹理
├── skybox textures/              # 天空盒纹理
│   ├── right.bmp                # 右面
│   ├── left.bmp                 # 左面
│   ├── top.bmp                  # 上面
│   ├── bottom.bmp               # 下面
│   ├── front.bmp                # 前面
│   └── back.bmp                 # 后面
├── Course Project.md             # 项目要求文档
└── README.md                     # 本文档
```

## 游戏机制

### 游戏目标
收集所有50个黄金小行星，避免被10个本地太空飞行器发现。

### 胜利条件
- 收集完成：飞船变为金色
- 控制台显示："Congratulations! All gold collected!"

### 失败机制
- 与本地飞行器碰撞触发警报
- 1秒冻结后自动重置游戏

## 代码质量

### 性能优化
- **VAO/VBO缓存**: 所有模型数据预加载
- **纹理管理**: 统一纹理绑定和缓存
- **帧率优化**: 高效的渲染循环

### 代码结构
- **模块化设计**: 清晰的功能分离
- **错误处理**: 完善的错误检查和日志
- **注释完整**: 详细的中英文注释

### 扩展性
- **易于添加新对象**: 通用的模型加载系统
- **灵活的光照系统**: 支持更多光源
- **可配置参数**: 常量定义便于调整

## 技术亮点

1. **高级渲染技术**: 法线贴图、双光源、天空盒
2. **复杂场景管理**: 1600+对象的高效渲染
3. **智能交互系统**: 多层碰撞检测、状态管理
4. **平滑控制体验**: 非线性鼠标响应、飞船侧倾
5. **完整游戏循环**: 开始、游戏、完成、重置

---

**开发者**: [学号] [姓名]  
**完成时间**: 2025年  

