# 太空黄金收藏项目 (Space Gold Collector)

## 项目简介

这是一个基于OpenGL的3D太空探索游戏，玩家需要驾驶宇宙飞船在一个充满小行星的太空环境中收集黄金，同时避开巡逻的本地太空飞行器。

## 功能实现

### 基本要求 (88%)

**1. 对象渲染 (10%)**
- 渲染行星、航天器和5个本地太空飞行器
- 所有对象使用相应的纹理贴图

**2. 自转动画 (6%)**
- 行星持续自转
- 本地太空飞行器持续自转

**3. 天空盒 (6%)**
- 实现立方体贴图天空盒作为背景

**4. 基本光照 (4%)**
- 实现环境光、漫反射和镜面反射
- 支持键盘调整光照参数

**5. 小行星环 (10%)**
- 生成1600块随机分布的漂浮岩石
- 包含50个黄金小行星

**6. 岩石旋转 (8%)**
- 所有小行星具有随机旋转动画

**7. 正确视点 (8%)**
- 摄像机固定在航天器后方
- 视角与航天器朝向一致

**8. 鼠标控制 (8%)**
- 使用鼠标控制航天器旋转
- 实现非线性灵敏度控制

**9. 键盘控制 (8%)**
- 方向键控制航天器移动
- 数字键调整光照强度

**10. 黄金收集 (8%)**
- 碰撞检测收集黄金
- 收集后黄金消失

**11. 警报系统 (8%)**
- 碰撞检测与本地飞行器
- 触发警报时纹理变红

**12. 完成提示 (4%)**
- 收集完所有黄金后飞船变金色

### 额外要求 (10%)

**1. 双光源 (5%)**
- 实现两个点光源
- 基于Phong光照模型

**2. 法线贴图 (5%)**
- 为行星实现法线贴图
- 增强表面细节

## 操作逻辑

### 游戏流程
1. **初始化**: 玩家飞船出现在距离行星150单位的位置，面向行星
2. **探索阶段**: 使用鼠标调整飞船朝向，方向键控制移动
3. **搜寻黄金**: 在1600个小行星中寻找50个黄金小行星
4. **避开警卫**: 5个本地飞行器在轨道上巡逻，需要避免碰撞
5. **收集完成**: 收集所有黄金后，飞船变为金色，游戏完成

### 交互机制
- **移动控制**: 飞船可在3D空间自由移动，摄像机始终跟随
- **碰撞系统**: 
  - 接近黄金小行星自动收集
  - 与巡逻飞行器碰撞触发警报（变红）
- **视觉反馈**: 
  - 收集进度实时显示在控制台
  - 光照效果可动态调整
  - 完成任务时飞船纹理变化

### 场景动态
- **行星自转**: 中心行星持续缓慢旋转
- **小行星旋转**: 所有岩石具有独立的旋转动画
- **巡逻轨道**: 本地飞行器在多层3D轨道上运动

## 控制说明

### 鼠标控制
- **鼠标移动**: 控制航天器方向（yaw/pitch）

### 键盘控制
- **w**: 向前移动
- **s**: 向后移动  
- **a**: 向左移动
- **d**: 向右移动
- **1**: 增加光源1强度
- **2**: 减少光源1强度
- **3**: 增加光源2强度
- **4**: 减少光源2强度
- **ESC**: 退出游戏

## 技术特点

### 高级功能
1. **非线性鼠标灵敏度控制**
   - 初期响应灵敏，持续移动时减少累积效应
   - 平滑的灵敏度过渡

2. **动态轨道系统**
   - 本地飞行器采用多层3D轨道分布
   - 不同轨道半径和倾斜角

3. **智能碰撞检测**
   - 球形碰撞检测系统
   - 支持多种物体交互

4. **扩展小行星系统**
   - 1600个小行星的大规模渲染
   - 防重叠的位置生成算法

## 编译和运行

### 依赖库
- OpenGL 3.3+
- GLFW 3.x
- GLEW 2.x
- GLM 0.9.x

## 文件结构

```
CourseProjectMaterials/
├── main.cpp              # 主程序文件
├── Shader.cpp/.h         # 着色器管理类
├── Texture.cpp/.h        # 纹理管理类
├── VertexShaderCode.glsl # 顶点着色器
├── FragmentShaderCode.glsl # 片段着色器
├── SkyboxVertexShader.glsl # 天空盒顶点着色器
├── SkyboxFragmentShader.glsl # 天空盒片段着色器
├── object/               # 3D模型文件
│   ├── planet.obj
│   ├── spacecraft.obj
│   ├── rock.obj
│   └── craft.obj
├── texture/              # 纹理文件
│   ├── earthTexture.bmp
│   ├── earthNormal.bmp
│   ├── spacecraftTexture.bmp
│   ├── gold.bmp
│   ├── rockTexture.bmp
│   └── red.bmp
└── skybox textures/      # 天空盒纹理
    ├── right.bmp
    ├── left.bmp
    ├── top.bmp
    ├── bottom.bmp
    ├── front.bmp
    └── back.bmp
```

## 代码亮点

1. **模块化设计**: 清晰的函数分工和代码组织
2. **高效渲染**: 使用VAO/VBO优化渲染管线
3. **动态交互**: 实时碰撞检测和状态更新
4. **视觉效果**: 双光源照明和法线贴图
5. **用户体验**: 平滑的控制响应和视觉反馈

## 游戏目标

收集所有50个黄金小行星，避免被本地太空飞行器发现。完成收集后，你的飞船将变为金色，象征任务完成！

